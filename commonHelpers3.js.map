{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst doc = {\n  form: document.querySelector('.feedback-form'),\n  email: document.querySelector('.feedback-form input'),\n  message: document.querySelector('.feedback-form textarea'),\n}\n\ndoc.form.addEventListener('input', throttle(\n  () => {\n    const email = doc.email.value;\n    const message = doc.message.value;\n\n    localStorage.setItem('feedback-form-state', JSON.stringify({\n      email,\n      message\n    }));\n  },\n  500\n));\n\nwindow.addEventListener('load', () => {\n  const formFields = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n  if (formFields) {\n    doc.email.value = formFields.email;\n    doc.message.value = formFields.message;\n  }\n});\n\ndoc.form.addEventListener('submit', () => {\n  console.log({\n    email: doc.email.value,\n    message: doc.message.value,\n  });\n    \n  doc.email.value = '';\n  doc.message.value = '';\n    \n  localStorage.clear();\n});\n"],"names":["doc","throttle","email","message","formFields"],"mappings":"wIAEA,MAAMA,EAAM,CACV,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,sBAAsB,EACpD,QAAS,SAAS,cAAc,yBAAyB,CAC3D,EAEAA,EAAI,KAAK,iBAAiB,QAASC,EACjC,IAAM,CACJ,MAAMC,EAAQF,EAAI,MAAM,MAClBG,EAAUH,EAAI,QAAQ,MAE5B,aAAa,QAAQ,sBAAuB,KAAK,UAAU,CACzD,MAAAE,EACA,QAAAC,CACD,CAAA,CAAC,CACH,EACD,GACF,CAAC,EAED,OAAO,iBAAiB,OAAQ,IAAM,CACpC,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAErEA,IACFJ,EAAI,MAAM,MAAQI,EAAW,MAC7BJ,EAAI,QAAQ,MAAQI,EAAW,QAEnC,CAAC,EAEDJ,EAAI,KAAK,iBAAiB,SAAU,IAAM,CACxC,QAAQ,IAAI,CACV,MAAOA,EAAI,MAAM,MACjB,QAASA,EAAI,QAAQ,KACzB,CAAG,EAEDA,EAAI,MAAM,MAAQ,GAClBA,EAAI,QAAQ,MAAQ,GAEpB,aAAa,MAAK,CACpB,CAAC"}