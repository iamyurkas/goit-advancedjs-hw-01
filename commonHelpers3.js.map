{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst doc = {\n  form: document.querySelector('.feedback-form'),\n  email: document.querySelector('.feedback-form input'),\n  message: document.querySelector('.feedback-form textarea'),\n};\n\ndoc.form.addEventListener(\n  'input',\n  throttle(() => {\n    const email = doc.email.value;\n    const message = doc.message.value;\n\n    localStorage.setItem(\n      'feedback-form-state',\n      JSON.stringify({\n        email,\n        message,\n      })\n    );\n  }, 500)\n);\n\nwindow.addEventListener('load', () => {\n  const formFields = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n  if (formFields) {\n    doc.email.value = formFields.email;\n    doc.message.value = formFields.message;\n  }\n});\n\ndoc.form.addEventListener('submit', event => {\n  event.preventDefault();\n  console.log({\n    email: doc.email.value,\n    message: doc.message.value,\n  });\n\n  doc.form.reset();\n  localStorage.removeItem('feedback-form-state');\n});\n"],"names":["doc","throttle","email","message","formFields","event"],"mappings":"wIAEA,MAAMA,EAAM,CACV,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,sBAAsB,EACpD,QAAS,SAAS,cAAc,yBAAyB,CAC3D,EAEAA,EAAI,KAAK,iBACP,QACAC,EAAS,IAAM,CACb,MAAMC,EAAQF,EAAI,MAAM,MAClBG,EAAUH,EAAI,QAAQ,MAE5B,aAAa,QACX,sBACA,KAAK,UAAU,CACb,MAAAE,EACA,QAAAC,CACR,CAAO,CACP,CACG,EAAE,GAAG,CACR,EAEA,OAAO,iBAAiB,OAAQ,IAAM,CACpC,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAErEA,IACFJ,EAAI,MAAM,MAAQI,EAAW,MAC7BJ,EAAI,QAAQ,MAAQI,EAAW,QAEnC,CAAC,EAEDJ,EAAI,KAAK,iBAAiB,SAAUK,GAAS,CAC3CA,EAAM,eAAc,EACpB,QAAQ,IAAI,CACV,MAAOL,EAAI,MAAM,MACjB,QAASA,EAAI,QAAQ,KACzB,CAAG,EAEDA,EAAI,KAAK,QACT,aAAa,WAAW,qBAAqB,CAC/C,CAAC"}